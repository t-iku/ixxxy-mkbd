# 自作キーボード ビルドガイド

本ガイドでは、XIAO RP2040を使用した名刺型自作キーボードの組み立て手順を説明します。

## キーボードの仕様

- **キー数**: 7キー
- **マイコン**: Seeed XIAO RP2040
- **対応スイッチ**: Cherry MX互換キースイッチ
- **イメージ**: TinyGoでファームウェアを自作可能。 自分でビルドしてキー割り当てを自由に変更してください。

### 基板の向きについて

**重要**: シルク印刷でイラストが描いてある面が**裏面（はんだ付けする面）**です。

[写真：基板の表面]

[写真：基板の裏面（イラスト側）]

## 必要なもの

### キットに含まれるもの

|品名           |数量|
|-------------|--|
|PCB基板（プリント基板）|1 |
|ゴム足          |4 |

### 別途ご用意いただく��の

|品名               |数量|備考     |
|-----------------|--|-------|
|Seeed XIAO RP2040|1 |マイコンボード|
|Cherry MX互換キースイッチ|7 |[購入リンク](https://amzn.asia/d/51emdMk)|
|キーキャップ           |7 |[購入リンク](https://shop.yushakobo.jp/products/dsa-blank-keycaps?srsltid=AfmBOoo3D5l7fVzxJ7DPiwicCoTri2pkyjmhVBF0B-oYr6Gz-_zGC-X5)|

### 工具類

|品名   |備考                  |
|-----|--------------------|
|はんだごて|温度調整機能付き推奨（320-350℃）|
|はんだ  |鉛フリー推奨              |
|ニッパー |-                   |
|ピンセット|あると便利               |
|フラックス|あると便利               |

-----

## ビルド手順

### 1. マイコンのはんだ付け

**所要時間：約10分**

1. XIAO RP2040を基板のマイコン取り付け位置に配置します
- シルク印刷の向きを確認してください
- USB端子の向きに注意してください
1. マイコンのピンをはんだ付けします
- 対角のピンを先に仮止めすると位置決めが楽です
- すべてのピンをしっかりとはんだ付けしてください
- はんだの量は多すぎず少なすぎず、富士山型を意識します
1. はんだ付け後、目視で確認します
- ブリッジ（隣のピン同士がつながっていないか）をチェック
- すべてのピンがしっかり接続されているか確認
- ピンセットなどでパッド同士をショートさせて導通チェック（任意）

### 2. キースイッチのはんだ付け

**所要時間：約15-30分**

1. 基板の表面からキースイッチを差し込みます
- スイッチの向きに注意（ピンの位置を確認）
- 全てのピンが基板の穴に入っていることを確認
1. 基板を裏返し、ピンをはんだ付けします
- キースイッチが浮いていないか確認しながら作業
- 各スイッチの2本のピンをはんだ付け
1. 全てのスイッチを取り付け後、動作確認

### 3. キーキャップの取り付け

**所要時間：約5分**

1. キースイッチの上からキーキャップを押し込みます
- 「カチッ」という感触があるまで押し込んでください
- 全てのキーに取り付けます
1. ゴム足を基板裏面の四隅に貼り付けます
- 基板が安定する位置に貼ってください

### 4. ファームウェアの書き込み

**所要時間：約5分**

#### TinyGoの準備

1. TinyGoをインストール（未インストールの場合）
   
   ```bash
   # macOS (Homebrew)
   brew install tinygo
   
   # Windows (Scoop)
   scoop install tinygo
   
   # Linux
   # https://tinygo.org/getting-started/install/ を参照
   ```
1. ファームウェアのビルドと書き込み
   
   ```bash
   # BOOTSELボタンを押しながらUSBケーブルを接続
   # ストレージデバ��スとして認識されます
   
   # プロジェクトディレクトリで実行
   tinygo flash -target xiao-rp2040 main.go
   ```
1. 書き込み完了後、自動的に再起動します

#### 動作確認

1. PCにキーボードとして認識されているか確認
1. テキストエディタなどを開いて、各キーが正しく入力されるかテスト
1. 全てのキーの動作を確認してください

-----

## トラブルシューティング

### キーが反応しない場合

- はんだ付けを確認（特にマイコンとキースイッチのピン）
- キースイッチが正しく挿入されているか確認
- ファームウェアが正しく書き込まれているか確認

### 一部のキーだけ反応しない

- 該当するキースイッチのはんだ付けを再確認
- スイッチの不良の可能性もあります

### PCに認識されない

- USBケーブルを確認（充電専用ケーブルでないか）
- 別のUSBポートで試す
- ファームウェアの再書き込み

ご不明な点やトラブルがありましたら、お気軽にお問い合わせください.